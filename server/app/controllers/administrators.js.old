var mongoose, Administrator;

/* Include dependencies */
mongoose = require('mongoose');
Administrator = mongoose.model('Administrator');

/**
 * Type: POST
 * Route: /admin/login
 * Searches for an admin in the database and returns the username and login status.
 */
exports.login = function (req, res) {

    Administrator
        .findOne({
            username: req.body.username,
            password: req.body.password
        })
        .exec(function (err, doc) {
            return res.send({
                "error": err,
                "result": {
                    username: (doc.username ? doc.username : null),
                    loggedIn: (doc.username ? true : false)
                }
            });
        });
};
